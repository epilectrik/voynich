# HAZARD_CLASS_VULNERABILITY

**Phase question:** Is hazard immunity a role-level property, a sub-group property, or a token-level property?

## Key Findings

### 1. Hazard Exposure Anatomy (Script 1)

**All 43 safe classes route to hazard classes at substantial rates.** The global safe-class hazard routing rate is 24.6% -- safe classes do NOT avoid hazard neighbors. They are embedded in the same transition network.

**Immunity classification:**
- **Role exclusion (CC/AX):** 23 classes -- these roles contain zero hazard members
- **Sub-group exclusion (EN/FL/FQ safe sub-groups):** 20 classes -- within roles that have hazard members, these sub-groups avoid participation
- **Incidental safety:** 0 classes

**Within-role contrasts:**
- **EN:** Hazard classes {8,31} vs 16 safe classes show no positional difference (Mann-Whitney p=0.49). MIDDLE overlap is minimal (Jaccard 0.089 -- only 5 shared MIDDLEs out of 56 total). Hazard EN classes have only 6 MIDDLEs; safe EN classes have 55.
- **FL:** Hazard {7,30} vs safe {38,40} show massive positional difference (Mann-Whitney p<0.001). Safe FL tokens cluster at line-final position (mean=0.811) while hazard FL tokens are mid-line (mean=0.546).
- **FQ:** Hazard {9,23} vs safe {13,14} show no positional difference (p=0.53). MIDDLE overlap is moderate (Jaccard 0.333).

**Chi-squared:** Class membership predicts hazard-neighbor rate significantly beyond what role alone predicts (chi2=239.0, df=37 vs chi2=33.3, df=4 for role).

### 2. Hazard Token Prediction (Script 2)

**Forbidden tokens are universally suffix-less and articulator-less.** All 18 tokens involved in forbidden transitions have zero suffix rate and zero articulator rate. Only 33% have prefixes (the ch/sh-prefixed tokens).

**Morphological prediction fails.** Best single-feature discriminant (`has_prefix == False`) achieves only 68.8% accuracy (baseline 56.2%) on n=32 hazard-class tokens. With such a small sample, this is not a reliable separator.

**MIDDLE identity partially predicts:** Forbidden-exclusive MIDDLEs include {aiin, al, edy, ey, l}. Safe-exclusive MIDDLEs include {am, d, eo, i, in, m, s, y}. But 6 MIDDLEs are shared between forbidden and safe tokens.

**Conclusion:** Hazard participation is **lexically specific**, not morphologically predictable. The forbidden transitions target specific token identities, not morphological categories.

**Position:** Forbidden tokens are significantly displaced from safe tokens in FL (p<0.001) and FQ (p<0.001) roles but not within hazard classes themselves (p=0.19).

### 3. Hazard Boundary Architecture (Script 3)

**All 17 forbidden transitions confirmed: zero occurrences** in the entire Currier B corpus.

**Near-misses are sparse:** Only 114 total near-miss transitions (same class pair, different tokens). The most frequent is `s -> aiin` (class 23->9) with 18 occurrences.

**Buffer classes:** FL and CC are over-represented as buffers between hazard zones (enrichment 1.55x and 1.50x). AX is under-represented (0.84x). Hazard classes themselves are among the top buffers (class 9 at 1.96x, class 7 at 2.23x), indicating hazard zones self-buffer.

**Folio-level density:** Mean hazard density is 25.1% of B tokens. Regime does NOT predict hazard density (Kruskal-Wallis p=0.26). Hazard density is negatively correlated with folio size (Spearman rho=-0.30).

**Selectivity ratio:** Of 1024 possible hazard-class token pairs, only 265 are observed, and only 17 are forbidden. The selectivity ratio is 6.4% of observed pairs. Forbidden transitions are highly specific within their class pairs -- most class pairs that contain a forbidden transition also have 5-15 allowed transitions in the same pair.

## Constraints

| # | Name | Finding |
|---|------|---------|
| C622 | Hazard Exposure Anatomy | 23 role-excluded + 20 sub-group-excluded = 43 safe; safe classes still route to hazard at 24.6% |
| C623 | Hazard Token Morphological Profile | Suffix-less, articulator-less, lexically specific; no morphological predictor |
| C624 | Hazard Boundary Architecture | Zero forbidden occurrences; FL/CC buffer enrichment; 6.4% selectivity ratio |

## Scripts

| Script | Purpose | Output |
|--------|---------|--------|
| hazard_exposure_anatomy.py | Class routing, within-role contrasts | hazard_exposure_anatomy.json |
| hazard_token_prediction.py | Morphological predictors | hazard_token_prediction.json |
| hazard_boundary_architecture.py | Neighborhoods, buffers, folio density | hazard_boundary_architecture.json |

## Data Dependencies

| File | Source |
|------|--------|
| class_token_map.json | CLASS_COSURVIVAL_TEST/results/ |
| regime_folio_mapping.json | REGIME_SEMANTIC_INTERPRETATION/results/ |
| phase18a_forbidden_inventory.json | 15-20_kernel_grammar/ |
| voynich.py | scripts/ |
