{
  "metadata": {
    "title": "Voynich Manuscript Database Schema Documentation",
    "phase": "Data Recovery Phase",
    "version": "1.0",
    "date": "2025-12-30",
    "purpose": "Formalize recovered database structure for visual correlation study",
    "framing": "Data recovery problem - 15th century structured database"
  },

  "terminology_note": {
    "classifier_markers": "We use 'classifier markers' rather than 'type markers' because prefix function is not yet determined. They may encode semantic categories, grammatical roles, register markers, relational flags, or something else entirely.",
    "function_status": "ALL prefix functions labeled as 'unknown' until visual correlation provides evidence"
  },

  "tables": {
    "currier_a": {
      "description": "Entity catalog (herbal entries) - primary reference table",
      "record_count": 114,
      "record_delimiter": "folio_boundary",
      "primary_key": "heading_word",
      "primary_key_uniqueness": 0.956,
      "word_count_statistics": {
        "mean": 124,
        "std": 105,
        "min": 9,
        "max": 291,
        "cv": 0.85
      },
      "fields": {
        "part1": {
          "name": "entity_identification",
          "position": "0-33%",
          "function": "primary_key_and_classifiers",
          "function_status": "unknown",
          "characteristics": {
            "contains_heading_word": true,
            "unique_vocabulary_rate": 0.783,
            "grammar_compliance": 0.868
          },
          "enriched_prefixes": [
            {"prefix": "pd", "enrichment_ratio": "inf", "count": 2},
            {"prefix": "pa", "enrichment_ratio": "inf", "count": 2},
            {"prefix": "po", "enrichment_ratio": 67.78, "count": 17},
            {"prefix": "ps", "enrichment_ratio": 43.86, "count": 3},
            {"prefix": "fa", "enrichment_ratio": 43.86, "count": 2},
            {"prefix": "py", "enrichment_ratio": 26.32, "count": 3},
            {"prefix": "pc", "enrichment_ratio": 24.2, "count": 16},
            {"prefix": "ts", "enrichment_ratio": 21.93, "count": 6}
          ],
          "note": "Part 1 vocabulary is largely unique to each entry, supporting proper-name interpretation for heading words"
        },
        "part2": {
          "name": "properties_description",
          "position": "34-66%",
          "function": "entity_attributes",
          "function_status": "unknown",
          "characteristics": {
            "transitional_vocabulary": true,
            "no_strong_enrichment": true
          },
          "enriched_prefixes": [
            {"prefix": "ts", "enrichment_ratio": 1.3, "count_note": "modest"},
            {"prefix": "yk", "enrichment_ratio": 1.2, "count_note": "modest"},
            {"prefix": "ck", "enrichment_ratio": 1.2, "count_note": "modest"}
          ],
          "note": "Transitional section with no strong classifier enrichment; may describe entity attributes"
        },
        "part3": {
          "name": "applications_relations",
          "position": "67-100%",
          "function": "usage_context_or_relationships",
          "function_status": "unknown",
          "characteristics": {
            "closing_markers": true,
            "most_variable_vocabulary": true
          },
          "enriched_prefixes": [
            {"prefix": "al", "enrichment_ratio": 1.4, "count_note": "closing"},
            {"prefix": "ol", "enrichment_ratio": 1.3, "count_note": "closing"},
            {"prefix": "o", "enrichment_ratio": 1.3, "count_note": "closing"}
          ],
          "note": "Contains closing markers; may describe applications, uses, or relationships"
        }
      },
      "structure_validation": {
        "three_part_agreement": 0.712,
        "methods_used": ["fixed_thirds", "vocabulary_shift", "prefix_clustering"],
        "boundary_detection_status": "validated"
      }
    },

    "currier_b": {
      "description": "Encyclopedia (expository entries) - references Currier A",
      "record_count": 83,
      "record_delimiter": "folio_boundary",
      "foreign_keys": "references currier_a.heading_word",
      "word_count_statistics": {
        "mean": 352,
        "std": 268,
        "min": 24,
        "max": 1100,
        "cv": 0.76
      },
      "characteristics": {
        "structure_type": "more_continuous",
        "three_part_clarity": "weaker than A",
        "opening_closing_divergence": "lower than A"
      },
      "relationship_to_a": {
        "description": "B entries reference A entities via heading words",
        "directionality": "B references A (never reverse)",
        "evidence": "INFINITE asymmetry ratio"
      }
    }
  },

  "relationship_mapping": {
    "b_to_a_references": {
      "description": "Foreign key relationship: B entries contain A heading words",
      "total_edges": 151,
      "total_weighted_edges": 181,
      "density": 0.016,
      "directionality": {
        "a_words_in_b": 809,
        "b_words_in_a": 0,
        "asymmetry_ratio": "INFINITE",
        "interpretation": "B is definitively referential; A is primary source"
      },
      "distribution_pattern": "DISTRIBUTED",
      "positional_correlation": {
        "spearman_r": -0.17,
        "p_value": 0.035,
        "interpretation": "References are thematic, not sequential"
      }
    },
    "reference_statistics": {
      "a_entries_referenced": 29,
      "a_entries_isolated": 85,
      "b_entries_referencing": 61,
      "b_entries_isolated": 22,
      "mean_a_in_degree": 1.32,
      "max_a_in_degree": 26,
      "mean_b_out_degree": 1.82,
      "max_b_out_degree": 6
    },
    "most_referenced_entities": [
      {"folio": "f58v", "heading": "tol", "in_degree": 26, "co_citations": 43},
      {"folio": "f22r", "heading": "pol", "in_degree": 16, "co_citations": 41},
      {"folio": "f42r", "heading": "sho", "in_degree": 14, "co_citations": 35},
      {"folio": "f96r", "heading": "tor", "in_degree": 12, "co_citations": 29},
      {"folio": "f35v", "heading": "par", "in_degree": 9, "co_citations": 15},
      {"folio": "f58r", "heading": "kor", "in_degree": 8, "co_citations": 8},
      {"folio": "f19r", "heading": "pchor", "in_degree": 7, "co_citations": 30},
      {"folio": "f21r", "heading": "pchor", "in_degree": 7, "co_citations": 30},
      {"folio": "f52v", "heading": "pchor", "in_degree": 7, "co_citations": 30},
      {"folio": "f10v", "heading": "paiin", "in_degree": 6, "co_citations": 22}
    ],
    "co_citation_patterns": {
      "b_entries_with_multiple_refs": 32,
      "mean_refs_per_multi_ref_b": 2.48,
      "top_co_cited_pair": {
        "entities": ["f22r:pol", "f58v:tol"],
        "co_citation_count": 8
      }
    }
  },

  "classifier_markers": {
    "terminology_note": "Function unknown - may encode semantic categories, grammatical roles, register, scope, or relational flags",
    "known_prefixes": {
      "count": 38,
      "list": [
        "qo", "ch", "sh", "da", "ct", "ol", "so", "ot", "ok", "al", "ar",
        "ke", "lc", "tc", "kc", "ck", "pc", "dc", "sc", "fc", "cp", "cf",
        "do", "sa", "yk", "yc", "po", "to", "ko", "ts", "ps", "pd", "fo",
        "pa", "py", "ky", "ty", "fa", "fs", "ks"
      ]
    },
    "known_suffixes": {
      "count": 31,
      "list": [
        "aiin", "ain", "iin", "in",
        "eedy", "edy", "dy",
        "eey", "ey", "hy", "y",
        "ar", "or", "ir", "er",
        "al", "ol", "el", "il",
        "am", "an", "en", "on",
        "s", "m", "n", "l", "r", "d"
      ]
    },
    "prefix_classification": {
      "by_table_affinity": {
        "heading_enriched": [
          {"prefix": "po", "ratio": 67.78, "function": "unknown"},
          {"prefix": "pc", "ratio": 24.2, "function": "unknown"},
          {"prefix": "ts", "ratio": 21.93, "function": "unknown"},
          {"prefix": "ko", "ratio": 11.0, "function": "unknown"},
          {"prefix": "to", "ratio": 9.0, "function": "unknown"}
        ],
        "body_dominant": [
          {"prefix": "ch", "body_count": 987, "function": "unknown"},
          {"prefix": "sh", "body_count": 459, "function": "unknown"},
          {"prefix": "da", "body_count": 456, "function": "unknown"},
          {"prefix": "qo", "body_count": 408, "function": "unknown"},
          {"prefix": "ct", "body_count": 265, "function": "unknown"}
        ],
        "heading_only": [
          {"prefix": "pd", "function": "unknown"},
          {"prefix": "pa", "function": "unknown"},
          {"prefix": "kd", "function": "unknown"}
        ]
      },
      "by_positional_tendency": {
        "initial_tendency": ["po", "pc", "yp", "che", "da"],
        "final_tendency": ["ct", "do", "o", "ol", "ot"],
        "uniform": ["ar", "ch", "ok", "s", "y"]
      },
      "by_part_enrichment": {
        "part1_enriched": ["pd", "lk", "po", "fa"],
        "part2_transitional": ["ts", "yk", "ck"],
        "part3_closing": ["al", "ol", "o"]
      }
    },
    "structural_role_hypotheses": {
      "note": "Hypotheses based on positional distribution only; semantic function unknown",
      "entry_initial_markers": {
        "prefixes": ["po", "pc", "ko", "to", "ts"],
        "role_hypothesis": "May mark entity identifiers or opening elements",
        "confidence": "structural_only"
      },
      "body_descriptors": {
        "prefixes": ["ch", "sh", "da", "qo"],
        "role_hypothesis": "May carry descriptive content",
        "confidence": "structural_only"
      },
      "closing_markers": {
        "prefixes": ["al", "ol", "ct"],
        "role_hypothesis": "May mark conclusions or applications",
        "confidence": "structural_only"
      }
    },
    "semantic_hypothesis": "PENDING - to be filled by visual correlation, if any"
  },

  "data_quality_metrics": {
    "text_extraction": {
      "total_words_a": 14155,
      "total_words_b": 29204,
      "unique_words_a": 4970,
      "unique_words_b": 7165,
      "vocabulary_overlap": 1497,
      "overlap_percentage": 0.141
    },
    "record_completeness": {
      "currier_a_entries": 114,
      "currier_b_entries": 83,
      "folio_alignment": "100%"
    },
    "field_consistency": {
      "three_part_method_agreement": 0.712,
      "heading_uniqueness_rate": 0.956,
      "heading_grammar_compliance": 0.868,
      "body_grammar_compliance": 0.756
    },
    "identifier_quality": {
      "unique_heading_rate": 0.783,
      "mean_heading_length": 6.43,
      "mean_body_word_length": 5.1,
      "heading_longer_than_body": true
    },
    "referential_integrity": {
      "b_to_a_valid_references": "100%",
      "orphan_references": 0,
      "interpretation": "All B references resolve to valid A entities"
    }
  },

  "vocabulary_separation": {
    "exclusive_to_a": {
      "count": 3473,
      "percentage": 0.699
    },
    "exclusive_to_b": {
      "count": 5668,
      "percentage": 0.791
    },
    "shared": {
      "count": 1497,
      "percentage": 0.141,
      "asymmetry": "Shared words appear more frequently in B than A"
    }
  },

  "part_specific_vocabulary": {
    "total_part_specific_words": 33,
    "threshold": ">=80% concentration in single part",
    "part1_specific_count": 14,
    "part2_specific_count": 14,
    "part3_specific_count": 5,
    "interpretation": "Vocabulary is systematically conditioned by entry position"
  },

  "validated_constraints": [
    "C1: ~114 entries define distinct entities (HIGH)",
    "C2: Three-part entry structure - 71.2% method agreement (HIGH)",
    "C3: 78.3% heading uniqueness (HIGH)",
    "C4: Bâ†’A asymmetry is INFINITE (VERY HIGH)",
    "C5: 14.1% vocabulary overlap A/B (HIGH)",
    "C6: Section-conditioned vocabulary 2-6x enrichment (HIGH)",
    "C7: Words have PREFIX + MIDDLE + SUFFIX structure (HIGH)",
    "C8: 41% final-y rate (HIGH)",
    "C9: Extremely low repetition 0.1-0.3% (HIGH)",
    "C10: High position entropy 9.4 bits (HIGH)",
    "C11: PLANT-PROCESS-BODY patterns are artifacts (HIGH)",
    "C12: Currier A = DESCRIPTIVE_HERBAL genre (MEDIUM)",
    "C13: Currier B = ENCYCLOPEDIA genre (MEDIUM)",
    "C14: Headings are proper names (HIGH)",
    "C15: 33 part-specific words exist (HIGH)",
    "C16: Reference pattern is DISTRIBUTED (HIGH)",
    "C17: Headings longer than body words (HIGH)",
    "C18: Headings have higher grammar compliance 86.8% vs 75.6% (HIGH)"
  ],

  "schema_recovery_status": {
    "tables": "RECOVERED",
    "fields": "RECOVERED",
    "relationships": "RECOVERED",
    "classifier_markers": "IDENTIFIED (function unknown)",
    "enum_values": "PENDING (visual correlation required)",
    "semantic_content": "BLOCKED (requires visual correlation first)"
  },

  "next_steps": {
    "immediate": "Visual feature coding of 30 pilot folios",
    "gated_by_visual": [
      "Classifier-to-visual-feature correlation testing",
      "Enum value recovery for correlated classifiers",
      "Entity identification (what plants are depicted)"
    ],
    "blocked_without_external_anchor": [
      "Semantic meaning of any word",
      "Translation attempts",
      "Language identification"
    ]
  }
}
